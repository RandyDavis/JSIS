<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ch5 Example 8</title>
</head>
<body>

  <h2>Summary of Bookings:</h2>

  <script>
    function CustomerBooking (bookingId, customerName, film, showDate) {
      this.customerName = customerName;
      this.bookingId = bookingId;
      this.showDate = showDate;
      this.film = film;
    }

    CustomerBooking.prototype.getCustomerName = function() {
      return this.customerName;
    }

    CustomerBooking.prototype.setCustomerName = function(customerName) {
      this.customerName = customerName;
    }

    CustomerBooking.prototype.getShowDate = function() {
      return this.showDate;
    }

    CustomerBooking.prototype.setShowDate = function(showDate) {
      this.showDate = showDate;
    }

    CustomerBooking.prototype.getFilm = function() {
      return this.film;
    }

    CustomerBooking.prototype.setFilm = function(film) {
      this.film = film;
    }

    CustomerBooking.prototype.getBookingId = function() {
      return this.bookingId;
    }

    CustomerBooking.prototype.setBookingId = function(bookingId) {
      this.bookingId = bookingId;
    }

    // Cinema type
    function Cinema() {
      this.bookings = new Array();
    }

    Cinema.prototype.addBooking = function(bookingId, customerName, film, showDate) {
      this.bookings[bookingId] = new CustomerBooking(bookingId, customerName, film, showDate);
    }

    Cinema.prototype.getBookingsTable = function() {
      var booking;
      var bookingsTableHTML = "<table border=1>";
      bookingsTableHTML += "<thead>";
      bookingsTableHTML += "<tr>"
      bookingsTableHTML += "<th>ID</th>"
      bookingsTableHTML += "<th>Customer Name</th>"
      bookingsTableHTML += "<th>Film</th>"
      bookingsTableHTML += "<th>Show Date</th>"
      bookingsTableHTML += "</tr>"

      for (booking in this.bookings) {
        
        bookingsTableHTML += "<tr><td>";
        bookingsTableHTML += this.bookings[booking].getBookingId();
        bookingsTableHTML += "</td>";

        bookingsTableHTML += "<td>";
        bookingsTableHTML += this.bookings[booking].getCustomerName();
        bookingsTableHTML += "</td>";

        bookingsTableHTML += "<td>";
        bookingsTableHTML += this.bookings[booking].getFilm();
        bookingsTableHTML += "</td>";

        bookingsTableHTML += "<td>";
        bookingsTableHTML += this.bookings[booking].getShowDate();
        bookingsTableHTML += "</td>";
        bookingsTableHTML += "</tr>";
      }
      bookingsTableHTML += "</table>";
      return bookingsTableHTML;

    }

    var londonOdeon = new Cinema();
    londonOdeon.addBooking(342, "Arnold Palmer", "Toy Story", "July 15, 2009 20:15");
    londonOdeon.addBooking(335, "Louise Anderson", "The Shawshank Redemption", "July 27, 2009 11:25");
    londonOdeon.addBooking(566, "Catherine Hughes", "Never Say Never", "July 27, 2009 17:55");
    londonOdeon.addBooking(324, "Beci Smith", "Shrek", "July 29, 2009 20:15");

    document.write(londonOdeon.getBookingsTable());



    // var firstBooking = new CustomerBooking(1234, "Randy Davis", "Raging Bull", "July 25, 2014 18:20");

    // var secondBooking = new CustomerBooking(1244, "Jim Bobby", "Toy Story", "July 27, 2014 20:15");

    // document.write("1st booking person's name is " + firstBooking.getCustomerName() + ".<br>");
    // document.write("2nd booking person's name is " + secondBooking.getCustomerName() + ".<br>");
    




  </script>

  <script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>
</body>
</html>